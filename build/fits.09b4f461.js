!function(t,e,r,n){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i.parcelRequire&&i.parcelRequire,o="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function a(r,n){if(!e[r]){if(!t[r]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(r,!0);if(s)return s(r,!0);if(o&&"string"==typeof r)return o(r);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}f.resolve=function(e){return t[r][1][e]||e},f.cache={};var u=e[r]=new a.Module(r);t[r][0].call(u.exports,f,u,u.exports,this)}return e[r].exports;function f(t){return a(f.resolve(t))}}a.isParcelRequire=!0,a.Module=function(t){this.id=t,this.bundle=a,this.exports={}},a.modules=t,a.cache=e,a.parent=s,a.register=function(e,r){t[e]=[function(t,e){e.exports=r},{}]},i.parcelRequire=a;for(var h=0;h<r.length;h++)a(r[h]);if(r.length){var u=a(r[r.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define((function(){return u}))}}({"669559a52795b84209d1f0ac3816dbf4":[function(t,e,r){"use strict";console.log(void 0),function(){var t,e,r,n,i,s,o,a,h,u,f,c,l,p,g={}.hasOwnProperty,d=function(t,e){for(var r in e)g.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y=[].slice;null==this.astro&&(this.astro={}),t=function(){function t(){}return t.include=function(t){var e,r;for(e in t)r=t[e],this.prototype[e]=r;return this},t.extend=function(t){var e,r;for(e in t)r=t[e],this[e]=r;return this},t.prototype.proxy=function(t){var e=this;return function(){return t.apply(e,arguments)}},t.prototype.invoke=function(t,e,r){var n;if(n=null!=(null!=e?e.context:void 0)?e.context:this,null!=t)return t.call(n,r,e)},t}(),c=function(t){function e(t,e,r){var n,i=this;this.arg=t,this.callback=e,this.opts=r,this.hdus=[],this.blockCount=0,this.begin=0,this.end=this.BLOCKLENGTH,this.offset=0,this.headerStorage=new Uint8Array,"string"==typeof this.arg?(this.readNextBlock=this._readBlockFromBuffer,(n=new XMLHttpRequest).open("GET",this.arg),n.responseType="arraybuffer",n.onload=function(){if(200===n.status)return i.arg=n.response,i.length=i.arg.byteLength,i.readFromBuffer();i.invoke(i.callback,i.opts)},n.send()):(this.length=this.arg.size,this.readNextBlock=this._readBlockFromFile,this.readFromFile())}return d(e,t),e.prototype.LINEWIDTH=80,e.prototype.BLOCKLENGTH=2880,File.prototype.slice=File.prototype.slice||File.prototype.webkitSlice,Blob.prototype.slice=Blob.prototype.slice||Blob.prototype.webkitSlice,e.prototype.readFromBuffer=function(){var t;return t=this.arg.slice(this.begin+this.offset,this.end+this.offset),this.readBlock(t)},e.prototype.readFromFile=function(){var t,e=this;return this.reader=new FileReader,this.reader.onloadend=function(t){return e.readBlock(t.target.result)},t=this.arg.slice(this.begin+this.offset,this.end+this.offset),this.reader.readAsArrayBuffer(t)},e.prototype.readBlock=function(t){var e,r,n,i,s,h,u,f,c,l,p,g,d;for(e=new Uint8Array(t),c=new Uint8Array(this.headerStorage),this.headerStorage=new Uint8Array(this.end),this.headerStorage.set(c,0),this.headerStorage.set(e,this.begin),h=this.BLOCKLENGTH/this.LINEWIDTH;h--;)if(32!==e[s=h*this.LINEWIDTH]){if(69===e[s]&&78===e[s+1]&&68===e[s+2]&&32===e[s+3]){for(u="",p=0,g=(d=this.headerStorage).length;p<g;p++)l=d[p],u+=String.fromCharCode(l);return i=new a(u),this.start=this.end+this.offset,r=i.getDataLength(),f=this.arg.slice(this.start,this.start+r),i.hasDataUnit()&&(n=this.createDataUnit(i,f)),this.hdus.push(new o(i,n)),this.offset+=this.end+r+this.excessBytes(r),this.offset===this.length?(this.headerStorage=null,void this.invoke(this.callback,this.opts,this)):(this.blockCount=0,this.begin=this.blockCount*this.BLOCKLENGTH,this.end=this.begin+this.BLOCKLENGTH,this.headerStorage=new Uint8Array,t=this.arg.slice(this.begin+this.offset,this.end+this.offset),void this.readNextBlock(t))}break}this.blockCount+=1,this.begin=this.blockCount*this.BLOCKLENGTH,this.end=this.begin+this.BLOCKLENGTH,t=this.arg.slice(this.begin+this.offset,this.end+this.offset),this.readNextBlock(t)},e.prototype._readBlockFromBuffer=function(t){return this.readBlock(t)},e.prototype._readBlockFromFile=function(t){return this.reader.readAsArrayBuffer(t)},e.prototype.createDataUnit=function(t,e){var r;return r=t.getDataType(),new astro.FITS[r](t,e)},e.prototype.excessBytes=function(t){return(this.BLOCKLENGTH-t%this.BLOCKLENGTH)%this.BLOCKLENGTH},e.prototype.isEOF=function(){return this.offset===this.length},e}(t),(s=function(t){function e(t,e,r){var n,i=this;this.arg=t,n=new c(this.arg,(function(t){return i.hdus=n.hdus,i.invoke(e,r,i)}))}return d(e,t),e.prototype.getHDU=function(t){var e,r,n,i;if(null!=t&&null!=this.hdus[t])return this.hdus[t];for(r=0,n=(i=this.hdus).length;r<n;r++)if((e=i[r]).hasData())return e},e.prototype.getHeader=function(t){return this.getHDU(t).header},e.prototype.getDataUnit=function(t){return this.getHDU(t).data},e}(t)).version="0.6.5",this.astro.FITS=s,n=function(t){function e(t,e){e instanceof ArrayBuffer?this.buffer=e:this.blob=e}return d(e,t),e.swapEndian={B:function(t){return t},I:function(t){return t<<8|t>>8},J:function(t){return(255&t)<<24|(65280&t)<<8|t>>8&65280|t>>24&255}},e.swapEndian[8]=e.swapEndian.B,e.swapEndian[16]=e.swapEndian.I,e.swapEndian[32]=e.swapEndian.J,e}(t),this.astro.FITS.DataUnit=n,h={verifyOrder:function(t,e){if(e!==this.cardIndex)return console.warn(t+" should appear at index "+this.cardIndex+" in the FITS header")},verifyBetween:function(t,e,r,n){if(!(e>=r&&e<=n))throw"The "+t+" value of "+e+" is not between "+r+" and "+n},verifyBoolean:function(t){return"T"===t},VerifyFns:{SIMPLE:function(){var t;return 1<=arguments.length?y.call(arguments,0):[],t=arguments[0],this.primary=!0,this.verifyOrder("SIMPLE",0),this.verifyBoolean(t)},XTENSION:function(){return 1<=arguments.length?y.call(arguments,0):[],this.extension=!0,this.extensionType=arguments[0],this.verifyOrder("XTENSION",0),this.extensionType},BITPIX:function(){var t,e;if(1<=arguments.length?y.call(arguments,0):[],t="BITPIX",e=parseInt(arguments[0]),this.verifyOrder(t,1),8!==e&&16!==e&&32!==e&&-32!==e&&-64!==e)throw t+" value "+e+" is not permitted";return e},NAXIS:function(){var t,e,r,n;if(1<=arguments.length?y.call(arguments,0):[],t="NAXIS",r=parseInt(arguments[0]),!arguments[1]&&(this.verifyOrder(t,2),this.verifyBetween(t,r,0,999),this.isExtension()&&("TABLE"===(n=this.extensionType)||"BINTABLE"===n)&&r!==(e=2)))throw t+" must be "+e+" for TABLE and BINTABLE extensions";return r},PCOUNT:function(){var t,e,r,n,i;if(1<=arguments.length?y.call(arguments,0):[],t="PCOUNT",n=parseInt(arguments[0]),e=3+this.get("NAXIS"),this.verifyOrder(t,e),this.isExtension()&&("IMAGE"===(i=this.extensionType)||"TABLE"===i)&&n!==(r=0))throw t+" must be "+r+" for the "+this.extensionType+" extensions";return n},GCOUNT:function(){var t,e,r,n,i;if(1<=arguments.length?y.call(arguments,0):[],t="GCOUNT",n=parseInt(arguments[0]),e=3+this.get("NAXIS")+1,this.verifyOrder(t,e),this.isExtension()&&("IMAGE"===(i=this.extensionType)||"TABLE"===i||"BINTABLE"===i)&&n!==(r=1))throw t+" must be "+r+" for the "+this.extensionType+" extensions";return n},EXTEND:function(){var t;if(1<=arguments.length?y.call(arguments,0):[],t=arguments[0],!this.isPrimary())throw"EXTEND must only appear in the primary header";return this.verifyBoolean(t)},BSCALE:function(){return 1<=arguments.length?y.call(arguments,0):[],parseFloat(arguments[0])},BZERO:function(){return 1<=arguments.length?y.call(arguments,0):[],parseFloat(arguments[0])},BLANK:function(){var t;return 1<=arguments.length?y.call(arguments,0):[],t=arguments[0],this.get("BITPIX")>0||console.warn("BLANK is not to be used for BITPIX = "+this.get("BITPIX")),parseInt(t)},DATAMIN:function(){return 1<=arguments.length?y.call(arguments,0):[],parseFloat(arguments[0])},DATAMAX:function(){return 1<=arguments.length?y.call(arguments,0):[],parseFloat(arguments[0])},EXTVER:function(){return 1<=arguments.length?y.call(arguments,0):[],parseInt(arguments[0])},EXTLEVEL:function(){return 1<=arguments.length?y.call(arguments,0):[],parseInt(arguments[0])},TFIELDS:function(){var t;return 1<=arguments.length?y.call(arguments,0):[],t=parseInt(arguments[0]),this.verifyBetween("TFIELDS",t,0,999),t},TBCOL:function(){var t,e;return 1<=arguments.length?y.call(arguments,0):[],e=arguments[0],t=arguments[2],this.verifyBetween("TBCOL",t,0,this.get("TFIELDS")),e},ZIMAGE:function(){return 1<=arguments.length?y.call(arguments,0):[],this.verifyBoolean(arguments[0])},ZCMPTYPE:function(){var t;if(1<=arguments.length?y.call(arguments,0):[],"GZIP_1"!==(t=arguments[0])&&"RICE_1"!==t&&"PLIO_1"!==t&&"HCOMPRESS_1"!==t)throw"ZCMPTYPE value "+t+" is not permitted";if("RICE_1"!==t)throw"Compress type "+t+" is not yet implement";return t},ZBITPIX:function(){var t;if(1<=arguments.length?y.call(arguments,0):[],8!==(t=parseInt(arguments[0]))&&16!==t&&32!==t&&64!==t&&-32!==t&&-64!==t)throw"ZBITPIX value "+t+" is not permitted";return t},ZNAXIS:function(){var t;return 1<=arguments.length?y.call(arguments,0):[],t=t=parseInt(arguments[0]),arguments[1]||this.verifyBetween("ZNAXIS",t,0,999),t},ZTILE:function(){return 1<=arguments.length?y.call(arguments,0):[],parseInt(arguments[0])},ZSIMPLE:function(){return 1<=arguments.length?y.call(arguments,0):[],"T"===arguments[0]},ZPCOUNT:function(){return 1<=arguments.length?y.call(arguments,0):[],parseInt(arguments[0])},ZGCOUNT:function(){return 1<=arguments.length?y.call(arguments,0):[],parseInt(arguments[0])},ZDITHER0:function(){return 1<=arguments.length?y.call(arguments,0):[],parseInt(arguments[0])}}},this.astro.FITS.HeaderVerify=h,a=function(t){function e(t){var e,r,n;for(r in this.primary=!1,this.extension=!1,this.verifyCard={},n=this.VerifyFns)e=n[r],this.verifyCard[r]=this.proxy(e);this.cards={},this.cards.COMMENT=[],this.cards.HISTORY=[],this.cardIndex=0,this.block=t,this.readBlock(t)}return d(e,t),e.include(h),e.prototype.arrayPattern=/(\D+)(\d+)/,e.prototype.maxLines=600,e.prototype.get=function(t){return this.contains(t)?this.cards[t].value:null},e.prototype.set=function(t,e,r){return r=r||"",this.cards[t]={index:this.cardIndex,value:e,comment:r},this.cardIndex+=1},e.prototype.contains=function(t){return this.cards.hasOwnProperty(t)},e.prototype.readLine=function(t){var e,r,n,i,s;if(!(""===(n=t.slice(0,8).trim()))){if(r=t.slice(8,10),i=t.slice(10),"= "===r)return s=i.split(" /"),i=s[0],e=s[1],"'"===(i=i.trim())[0]?i=i.slice(1,-1).trim():"T"!==i&&"F"!==i&&(i=parseFloat(i)),i=this.validate(n,i),this.set(n,i,e);"COMMENT"!==n&&"HISTORY"!==n||this.cards[n].push(i.trim())}},e.prototype.validate=function(t,e){var r,n,i,s;return n=null,r=t,(i=this.arrayPattern.test(t))&&(r=(s=this.arrayPattern.exec(t).slice(1))[0],n=s[1]),r in this.verifyCard&&(e=this.verifyCard[r](e,i,n)),e},e.prototype.readBlock=function(t){var e,r,n,i,s,o;for(80,o=[],e=i=0,s=(n=(n=t.length/80)<this.maxLines?n:this.maxLines)-1;0<=s?i<=s:i>=s;e=0<=s?++i:--i)r=t.slice(80*e,80*(e+1)),o.push(this.readLine(r));return o},e.prototype.hasDataUnit=function(){return 0!==this.get("NAXIS")},e.prototype.getDataLength=function(){var t,e,r,n,i;if(!this.hasDataUnit())return 0;for(r=[],t=n=1,i=this.get("NAXIS");1<=i?n<=i:n>=i;t=1<=i?++n:--n)r.push(this.get("NAXIS"+t));return e=r.reduce((function(t,e){return t*e}))*Math.abs(this.get("BITPIX"))/8,e+=this.get("PCOUNT")},e.prototype.getDataType=function(){switch(this.extensionType){case"BINTABLE":return this.contains("ZIMAGE")?"CompressedImage":"BinaryTable";case"TABLE":return"Table";default:return this.hasDataUnit()?"Image":null}},e.prototype.isPrimary=function(){return this.primary},e.prototype.isExtension=function(){return this.extension},e}(t),this.astro.FITS.Header=a,f={getExtent:function(t){var e,r,n,i;for(e=t.length;e--;)if(i=t[e],!isNaN(i)){n=r=i;break}if(-1===e)return[NaN,NaN];for(;e--;)i=t[e],isNaN(i)||(i<n&&(n=i),i>r&&(r=i));return[n,r]},getPixel:function(t,e,r){return t[r*this.width+e]}},this.astro.FITS.ImageUtils=f,u=function(t){function e(t,r){var n,i,s,o,a,h,u;for(e.__super__.constructor.apply(this,arguments),o=t.get("NAXIS"),this.bitpix=t.get("BITPIX"),this.naxis=[],s=a=1;1<=o?a<=o:a>=o;s=1<=o?++a:--a)this.naxis.push(t.get("NAXIS"+s));for(this.width=t.get("NAXIS1"),this.height=t.get("NAXIS2")||1,this.depth=t.get("NAXIS3")||1,this.bzero=t.get("BZERO")||0,this.bscale=t.get("BSCALE")||1,this.bytes=Math.abs(this.bitpix)/8,this.length=this.naxis.reduce((function(t,e){return t*e}))*Math.abs(this.bitpix)/8,this.frame=0,this.frameOffsets=[],this.frameLength=this.bytes*this.width*this.height,this.nBuffers=null!=this.buffer?1:2,s=h=0,u=this.depth-1;0<=u?h<=u:h>=u;s=0<=u?++h:--h)i={begin:n=s*this.frameLength},null!=this.buffer&&(i.buffers=[this.buffer.slice(n,n+this.frameLength)]),this.frameOffsets.push(i)}return d(e,t),e.include(f),e.prototype.allocationSize=16777216,e.prototype._getFrame=function(t,e,r,n){var i,s,o,a,h,u,f;if(s=Math.abs(e)/8,a=o=t.byteLength/s,Math.abs(e),e>0){switch(e){case 8:u=new Uint8Array(t),u=new Uint16Array(u),h=function(t){return t};break;case 16:u=new Int16Array(t),h=function(t){return(255&t)<<8|t>>8&255};break;case 32:u=new Int32Array(t),h=function(t){return(255&t)<<24|(65280&t)<<8|t>>8&65280|t>>24&255}}for(i=parseInt(r)!==r||parseInt(n)!==n?new Float32Array(u.length):u;a--;)u[a]=h(u[a]),i[a]=r+n*u[a]}else{for(i=new Uint32Array(t),h=function(t){return(255&t)<<24|(65280&t)<<8|t>>8&65280|t>>24&255};o--;)f=i[o],i[o]=h(f);for(i=new Float32Array(t);a--;)i[a]=r+n*i[a]}return i},e.prototype._getFrameAsync=function(t,e,r){var n,i,s,o,a,h,u,f,c,l,p,g,d,y=this;o="onmessage = "+(o=function(t){var e,r,n,i,s,o,a;return i=(o=t.data).buffer,r=o.bitpix,s=o.bzero,n=o.bscale,a=o.url,importScripts(a),e=_getFrame(i,r,s,n),postMessage(e)}.toString().replace("return postMessage","postMessage")),a=(a=this._getFrame.toString()).replace("function","function _getFrame"),u="application/javascript",s=new Blob([o],{type:u}),i=new Blob([a],{type:u}),n=window.URL||window.webkitURL,g=n.createObjectURL(s),p=n.createObjectURL(i),d=new Worker(g),f={buffer:t[0],bitpix:this.bitpix,bzero:this.bzero,bscale:this.bscale,url:p},h=0,c=null,l=0,d.onmessage=function(i){var s;return s=i.data,null==c&&(c=new s.constructor(y.width*y.height)),c.set(s,l),l+=s.length,(h+=1)===y.nBuffers?(y.invoke(e,r,c),n.revokeObjectURL(g),n.revokeObjectURL(p),d.terminate()):(f.buffer=t[h],d.postMessage(f,[t[h]]))},d.postMessage(f,[t[0]])},e.prototype.getFrame=function(t,e,r){var n,i,s,o,a,h,u,f,c,l,p,g=this;if(this.frame=t||this.frame,(null!=(o=(h=this.frameOffsets[this.frame]).buffers)?o.length:void 0)===this.nBuffers)return this._getFrameAsync(o,e,r);for(this.frameOffsets[this.frame].buffers=[],n=h.begin,i=this.blob.slice(n,n+this.frameLength),s=[],a=Math.floor(this.height/this.nBuffers)*this.bytes*this.width,u=l=0,p=this.nBuffers-1;0<=p?l<=p:l>=p;u=0<=p?++l:--l)c=u*a,u===this.nBuffers-1?s.push(i.slice(c)):s.push(i.slice(c,c+a));return o=[],(f=new FileReader).frame=this.frame,u=0,f.onloadend=function(n){var i;return t=n.target.frame,i=n.target.result,g.frameOffsets[t].buffers.push(i),(u+=1)===g.nBuffers?g.getFrame(t,e,r):f.readAsArrayBuffer(s[u])},f.readAsArrayBuffer(s[0])},e.prototype.getFrames=function(t,e,r,n){var i,s=this;return i=function(n,o){if(s.invoke(r,o,n),t+=1,e-=1)return s.getFrame(t,i,o)},this.getFrame(t,i,n)},e.prototype.isDataCube=function(){return this.naxis.length>2},e}(n),this.astro.FITS.Image=u,p=function(t){function e(t,r){e.__super__.constructor.apply(this,arguments),this.rowByteSize=t.get("NAXIS1"),this.rows=t.get("NAXIS2"),this.cols=t.get("TFIELDS"),this.length=this.rowByteSize*this.rows,this.heapLength=t.get("PCOUNT"),this.columns=this.getColumns(t),null!=this.buffer?(this.rowsInMemory=this._rowsInMemoryBuffer,this.heap=this.buffer.slice(this.length,this.length+this.heapLength)):(this.rowsInMemory=this._rowsInMemoryBlob,this.firstRowInBuffer=this.lastRowInBuffer=0,this.nRowsInBuffer=Math.floor(this.maxMemory/this.rowByteSize)),this.accessors=[],this.descriptors=[],this.elementByteLengths=[],this.setAccessors(t)}return d(e,t),e.prototype.maxMemory=1048576,e.prototype._rowsInMemoryBuffer=function(){return!0},e.prototype._rowsInMemoryBlob=function(t,e){return!(t<this.firstRowInBuffer)&&!(e>this.lastRowInBuffer)},e.prototype.getColumns=function(t){var e,r,n,i,s;for(e=[],r=i=1,s=this.cols;1<=s?i<=s:i>=s;r=1<=s?++i:--i){if(n="TTYPE"+r,!t.contains(n))return null;e.push(t.get(n))}return e},e.prototype.getColumn=function(t,e,r){var n,i,s,o,a,h,u,f,c,l,p=this;return null!=this.blob?(f=this.columns.indexOf(t),o=this.descriptors[f],n=this.accessors[f],this.elementByteLengths[f],a=0===(a=this.elementByteLengths.slice(0,f)).length?0:a.reduce((function(t,e){return t+e})),s=null!=this.typedArray[o]?new this.typedArray[o](this.rows):[],l=~~(this.maxMemory/this.rowByteSize),l=Math.min(l,this.rows),h=this.rows/l,c=Math.floor(h)===h?h:Math.floor(h)+1,u=0,f=0,i=function(t,r){var o,h,g,d;for(o=t.byteLength/p.rowByteSize,d=new DataView(t),h=a;o--;)s[u]=n(d,h)[0],u+=1,h+=p.rowByteSize;if(f+=1,c-=1)return g=f*l,p.getTableBuffer(g,l,i,r);p.invoke(e,r,s)},this.getTableBuffer(0,l,i,r)):(i=function(r,n){return s=r.map((function(e){return e[t]})),p.invoke(e,n,s)},this.getRows(0,this.rows,i,r))},e.prototype.getTableBuffer=function(t,e,r,n){var i,s,o,a,h=this;return e=Math.min(this.rows-t,e),o=(i=t*this.rowByteSize)+e*this.rowByteSize,s=this.blob.slice(i,o),(a=new FileReader).row=t,a.number=e,a.onloadend=function(t){return h.invoke(r,n,t.target.result)},a.readAsArrayBuffer(s)},e.prototype.getRows=function(t,e,r,n){var i,s,o,a,h,u,f=this;return this.rowsInMemory(t,t+e)?(null!=this.blob?o=this.buffer:(a=(i=t*this.rowByteSize)+e*this.rowByteSize,o=this.buffer.slice(i,a)),u=this._getRows(o,e),this.invoke(r,n,u),u):(a=(i=t*this.rowByteSize)+Math.max(this.nRowsInBuffer*this.rowByteSize,e*this.rowByteSize),s=this.blob.slice(i,a),(h=new FileReader).row=t,h.number=e,h.onloadend=function(i){var s;return s=i.target,f.buffer=s.result,f.firstRowInBuffer=f.lastRowInBuffer=s.row,f.lastRowInBuffer+=s.number,f.getRows(t,e,r,n)},h.readAsArrayBuffer(s))},e}(n),this.astro.FITS.Tabular=p,l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.dataAccessors={A:function(t){return t.trim()},I:function(t){return parseInt(t)},F:function(t){return parseFloat(t)},E:function(t){return parseFloat(t)},D:function(t){return parseFloat(t)}},e.prototype.setAccessors=function(t){var e,r,n,i,s,o,a,h=this;for(i=/([AIFED])(\d+)\.*(\d+)*/,a=[],n=s=1,o=this.cols;1<=o?s<=o:s>=o;n=1<=o?++s:--s)r=t.get("TFORM"+n),t.get("TTYPE"+n),e=i.exec(r)[1],a.push(function(t){var e;return e=function(e){return h.dataAccessors[t](e)},h.accessors.push(e)}(e));return a},e.prototype._getRows=function(t){var e,r,n,i,s,o,a,h,u,f,c,l,p,g,d,y,I,m,w;for(h=t.byteLength/this.rowByteSize,r=new Uint8Array(t),f=[],s=p=0,m=h-1;0<=m?p<=m:p>=m;s=0<=m?++p:--p){for(i=(n=s*this.rowByteSize)+this.rowByteSize,a="",g=0,y=(c=r.subarray(n,i)).length;g<y;g++)l=c[g],a+=String.fromCharCode(l);for(a=a.trim().split(/\s+/),u={},o=d=0,I=(w=this.accessors).length;d<I;o=++d)e=w[o],l=a[o],u[this.columns[o]]=e(l);f.push(u)}return f},e}(p),this.astro.FITS.Table=l,e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.typedArray={B:Uint8Array,I:Uint16Array,J:Uint32Array,E:Float32Array,D:Float64Array,1:Uint8Array,2:Uint16Array,4:Uint32Array},e.offsets={L:1,B:1,I:2,J:4,K:8,A:1,E:4,D:8,C:8,M:16},e.prototype.dataAccessors={L:function(t,e){return[84===t.getInt8(e),e+=1]},B:function(t,e){return[t.getUint8(e),e+=1]},I:function(t,e){return[t.getInt16(e),e+=2]},J:function(t,e){return[t.getInt32(e),e+=4]},K:function(t,e){var r,n;return r=Math.abs(t.getInt32(e)),e+=4,[((n=r%10)?-1:1)*((r-=n)<<32|Math.abs(t.getInt32(e))),e+=4]},A:function(t,e){var r;return r=t.getUint8(e),[r=String.fromCharCode(r),e+=1]},E:function(t,e){return[t.getFloat32(e),e+=4]},D:function(t,e){return[t.getFloat64(e),e+=8]},C:function(t,e){var r;return r=t.getFloat32(e),e+=4,[[r,t.getFloat32(e)],e+=4]},M:function(t,e){var r;return r=t.getFloat64(e),e+=8,[[r,t.getFloat64(e)],e+=8]}},e.prototype.toBits=function(t){var e,r;for(e=[],r=128;r>=1;)e.push(t&r?1:0),r/=2;return e},e.prototype.getFromHeap=function(t,e,r){var n,i,s,o,a;for(a=t.getInt32(e),e+=4,i=t.getInt32(e),e+=4,s=this.heap.slice(i,i+a),o=(n=new this.typedArray[r](s)).length;o--;)n[o]=this.constructor.swapEndian[r](n[o]);return[n,e]},e.prototype.setAccessors=function(t){var e,r,n,s,o,a,h,u,f,c,l,p=this;for(h=/(\d*)([P|Q]*)([L|X|B|I|J|K|A|E|D|C|M]{1})/,l=[],s=f=1,c=this.cols;1<=c?f<=c:f>=c;s=1<=c?++f:--f)n=t.get("TFORM"+s),u=t.get("TTYPE"+s),a=h.exec(n),e=parseInt(a[1])||1,o=a[2],r=a[3],l.push(function(t,e){var r,n;if(p.descriptors.push(t),p.elementByteLengths.push(p.constructor.offsets[t]*e),o)switch(u){case"COMPRESSED_DATA":r=function(e,r){var n,s,o;return n=(o=p.getFromHeap(e,r,t))[0],r=o[1],s=new p.typedArray[p.algorithmParameters.BYTEPIX](p.ztile[0]),i.Rice(n,p.algorithmParameters.BLOCKSIZE,p.algorithmParameters.BYTEPIX,s,p.ztile[0],i.RiceSetup),[s,r]};break;case"GZIP_COMPRESSED_DATA":r=function(t,e){var r;for(r=new Float32Array(p.width),s=r.length;s--;)r[s]=NaN;return[r,e]};break;default:r=function(e,r){return p.getFromHeap(e,r,t)}}else 1===e?r=function(e,r){var n;return[(n=p.dataAccessors[t](e,r))[0],r=n[1]]}:"X"===t?(n=Math.log(e)/Math.log(2),r=function(t,r){var i,s,o,a,h,u,f;for(o=t.buffer.slice(r,r+n),s=[],u=0,f=(h=new Uint8Array(o)).length;u<f;u++)a=h[u],i=p.toBits(a),s=s.concat(i);return r+=n,[s.slice(0,+(e-1)+1||9e9),r]}):r="A"===t?function(t,r){var n,i,s,o,a,h;for(i=t.buffer.slice(r,r+e),s="",a=0,h=(n=new Uint8Array(i)).length;a<h;a++)o=n[a],s+=String.fromCharCode(o);return[s=s.trim(),r+=e]}:function(r,n){var i,o,a;for(s=e,i=[];s--;)o=(a=p.dataAccessors[t](r,n))[0],n=a[1],i.push(o);return[i,n]};return p.accessors.push(r)}(r,e));return l},e.prototype._getRows=function(t,e){var r,n,i,s,o,a,h,u,f,c;for(a=new DataView(t),n=0,s=[];e--;){for(i={},r=h=0,u=(f=this.accessors).length;h<u;r=++h)o=(c=(0,f[r])(a,n))[0],n=c[1],i[this.columns[r]]=o;s.push(i)}return s},e}(p),this.astro.FITS.BinaryTable=e,i={RiceSetup:{1:function(t){return 1,3,6,[3,6,t[0],1]},2:function(t){var e;return 2,4,14,e=0,e|=t[0]<<8,[4,14,e|=t[1],2]},4:function(t){var e;return 4,5,25,e=0,e|=t[0]<<24,e|=t[1]<<16,e|=t[2]<<8,[5,25,e|=t[3],4]}},Rice:function(t,e,r,n,i,s){var o,a,h,u,f,c,l,p,g,d,y,I,m,w,B,b;for(a=1<<f,f=(B=s[r](t))[0],c=B[1],d=B[2],w=B[3],I=new Uint8Array(256),m=8,g=(b=[128,255])[0],l=b[1];l>=0;){for(;l>=g;)I[l]=m,l-=1;g/=2,m-=1}for(I[0]=0,o=t[w++],y=8,l=0;l<i;){for(y-=f;y<0;)o=o<<8|t[w++],y+=8;if(u=(o>>y)-1,o&=(1<<y)-1,(p=l+e)>i&&(p=i),u<0)for(;l<p;)n[l]=d,l+=1;else if(u===c)for(;l<p;){for(h=o<<(g=a-y),g-=8;g>=0;)h|=(o=t[w++])<<g,g-=8;y>0?(h|=(o=t[w++])>>-g,o&=(1<<y)-1):o=0,0==(1&h)?h>>=1:h=~(h>>1),n[l]=h+d,d=n[l],l++}else for(;l<p;){for(;0===o;)y+=8,o=t[w++];for(o^=1<<(y-=(m=y-I[o])+1),y-=u;y<0;)o=o<<8|t[w++],y+=8;h=m<<u|o>>y,o&=(1<<y)-1,0==(1&h)?h>>=1:h=~(h>>1),n[l]=h+d,d=n[l],l++}}return n}},this.astro.FITS.Decompress=i,r=function(t){function e(t,r){var n,i,s,o,a,h;for(e.__super__.constructor.apply(this,arguments),this.zcmptype=t.get("ZCMPTYPE"),this.zbitpix=t.get("ZBITPIX"),this.znaxis=t.get("ZNAXIS"),this.zblank=t.get("ZBLANK"),this.blank=t.get("BLANK"),this.zdither=t.get("ZDITHER0")||0,this.ztile=[],n=a=1,h=this.znaxis;1<=h?a<=h:a>=h;n=1<=h?++a:--a)o=t.contains("ZTILE"+n)?t.get("ZTILE"+n):1===n?t.get("ZNAXIS1"):1,this.ztile.push(o);for(this.width=t.get("ZNAXIS1"),this.height=t.get("ZNAXIS2")||1,this.algorithmParameters={},"RICE_1"===this.zcmptype&&(this.algorithmParameters.BLOCKSIZE=32,this.algorithmParameters.BYTEPIX=4),n=1;i="ZNAME"+n,t.contains(i);)s="ZVAL"+n,this.algorithmParameters[t.get(i)]=t.get(s),n+=1;this.zmaskcmp=t.get("ZMASKCMP"),this.zquantiz=t.get("ZQUANTIZ")||"LINEAR_SCALING",this.bzero=t.get("BZERO")||0,this.bscale=t.get("BSCALE")||1}return d(e,t),e.include(f),e.extend(i),e.randomGenerator=function(){var t,e,r,n,i,s;for(16807,e=2147483647,n=1,r=new Float32Array(1e4),t=s=0;s<=9999;t=++s)n=(i=16807*n)-e*parseInt(i/e),r[t]=n/e;return r},e.randomSequence=e.randomGenerator(),e.prototype._getRows=function(t,e){var r,n,i,s,o,a,h,u,f,c,l,p,g,d,y,I,m,w,B,b;for(g=new DataView(t),a=0,r=new Float32Array(this.width*this.height);e--;){for(f={},s=y=0,m=(B=this.accessors).length;y<m;s=++y)p=(b=(0,B[s])(g,a))[0],a=b[1],f[this.columns[s]]=p;for(n=f.COMPRESSED_DATA||f.UNCOMPRESSED_DATA||f.GZIP_COMPRESSED_DATA,f.ZBLANK||this.zblank,c=f.ZSCALE||this.bscale,d=f.ZZERO||this.bzero,l=((o=this.height-e)+this.zdither-1-1)%1e4,u=parseInt(500*this.constructor.randomSequence[l]),s=I=0,w=n.length;I<w;s=++I)p=n[s],i=(o-1)*this.width+s,-2147483647===p?r[i]=NaN:-2147483646===p?r[i]=0:(h=this.constructor.randomSequence[u],r[i]=(p-h+.5)*c+d),1e4===(u+=1)&&(l=(l+1)%1e4,u=parseInt(500*this.randomSequence[l]))}return r},e.prototype.getFrame=function(t,e,r){var n,i,s=this;return this.heap?(this.frame=t||this.frame,this.getRows(0,this.rows,e,r)):(n=this.blob.slice(this.length,this.length+this.heapLength),(i=new FileReader).onloadend=function(n){return s.heap=n.target.result,s.getFrame(t,e,r)},i.readAsArrayBuffer(n))},e}(e),this.astro.FITS.CompressedImage=r,o=function(){function t(t,e){this.header=t,this.data=e}return t.prototype.hasData=function(){return null!=this.data},t}(),this.astro.FITS.HDU=o}.call(window)},{}]},{},["669559a52795b84209d1f0ac3816dbf4"]);
//# sourceMappingURL=fits.09b4f461.js.map
